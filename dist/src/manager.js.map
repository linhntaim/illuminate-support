{"version":3,"sources":["../../src/manager.js"],"names":["Manager","app","customCreators","drivers","driver","getDefaultDriver","hasOwnProperty","createDriver","callCustomCreator","method","Str","studly","callback","params"],"mappings":"gGAAA,kD,ksCAEqBA,CAAAA,O,yBACjB,iBAAYC,GAAZ,CAAiB,+BACb,KAAKA,GAAL,CAAWA,GAAX,CACA,KAAKC,cAAL,CAAsB,EAAtB,CACA,KAAKC,OAAL,CAAe,EAClB,C,+EAEkB,CACf,MAAO,KACV,C,uCAEqB,IAAfC,CAAAA,OAAe,2DAAN,IAAM,CAClBA,OAAM,CAAGA,OAAM,CAAGA,OAAH,CAAY,KAAKC,gBAAL,EAA3B,CAEA,GAAI,CAACD,OAAL,CAAa,CACT,MAAO,KACV,CAED,GAAI,CAAC,KAAKD,OAAL,CAAaG,cAAb,CAA4BF,OAA5B,CAAL,CAA0C,CACtC,KAAKD,OAAL,CAAaC,OAAb,EAAuB,KAAKG,YAAL,CAAkBH,OAAlB,CAC1B,CAED,MAAO,MAAKD,OAAL,CAAaC,OAAb,CACV,C,kDAEYA,M,CAAQ,CACjB,GAAI,KAAKF,cAAL,CAAoBI,cAApB,CAAmCF,MAAnC,CAAJ,CAAgD,CAC5C,MAAO,MAAKI,iBAAL,CAAuBJ,MAAvB,CACV,CAFD,IAEO,CACH,GAAMK,CAAAA,MAAM,CAAG,SAAWC,gBAAIC,MAAJ,CAAWP,MAAX,CAAX,CAAgC,QAA/C,CAEA,GAAI,KAAKE,cAAL,CAAoBG,MAApB,CAAJ,CAAiC,CAC7B,MAAO,MAAKA,MAAL,GACV,CACJ,CACD,MAAO,KACV,C,4DAEiBL,M,CAAQ,CACtB,MAAO,MAAKF,cAAL,CAAoBE,MAApB,EAA4B,KAAKH,GAAjC,CACV,C,sCAEMG,M,CAAQQ,Q,CAAU,CACrB,KAAKV,cAAL,CAAoBE,MAApB,EAA8BQ,QAA9B,CAEA,MAAO,KACV,C,+CAEY,CACT,MAAO,MAAKT,OACf,C,sCAEMM,M,CAAQI,M,CAAQ,CACnB,GAAMT,CAAAA,MAAM,CAAG,KAAKA,MAAL,EAAf,CACA,MAAOA,CAAAA,MAAM,CAACE,cAAP,CAAsBG,MAAtB,EAAgCL,MAAM,CAACK,MAAD,CAAN,OAAAL,MAAM,oBAAYS,MAAZ,EAAtC,CAA4D,IACtE,C","sourcesContent":["import Str from './str'\r\n\r\nexport default class Manager {\r\n    constructor(app) {\r\n        this.app = app\r\n        this.customCreators = []\r\n        this.drivers = []\r\n    }\r\n\r\n    getDefaultDriver() {\r\n        return null\r\n    }\r\n\r\n    driver(driver = null) {\r\n        driver = driver ? driver : this.getDefaultDriver()\r\n\r\n        if (!driver) {\r\n            return null\r\n        }\r\n\r\n        if (!this.drivers.hasOwnProperty(driver)) {\r\n            this.drivers[driver] = this.createDriver(driver)\r\n        }\r\n\r\n        return this.drivers[driver]\r\n    }\r\n\r\n    createDriver(driver) {\r\n        if (this.customCreators.hasOwnProperty(driver)) {\r\n            return this.callCustomCreator(driver)\r\n        } else {\r\n            const method = 'create' + Str.studly(driver) + 'Driver'\r\n\r\n            if (this.hasOwnProperty(method)) {\r\n                return this[method]()\r\n            }\r\n        }\r\n        return null\r\n    }\r\n\r\n    callCustomCreator(driver) {\r\n        return this.customCreators[driver](this.app)\r\n    }\r\n\r\n    extend(driver, callback) {\r\n        this.customCreators[driver] = callback\r\n\r\n        return this\r\n    }\r\n\r\n    getDrivers() {\r\n        return this.drivers\r\n    }\r\n\r\n    __call(method, params) {\r\n        const driver = this.driver()\r\n        return driver.hasOwnProperty(method) ? driver[method](...params) : null\r\n    }\r\n}"],"file":"manager.js"}